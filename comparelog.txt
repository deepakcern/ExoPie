## number of events after first round of sync, and all the weights applied

muon region:  8107.15
electron region: 5957.36


## PU reweighting bug found and fixed, new numbers are: 








Questions for Praveen: 

## check the lepton ID, iso for cleaning against jets 

## reco eff SF for pt< 25 GeV, where did you find the range to be 25-500? 

## 






## To do for Praveen: 

1. is the pileup.root official, or checked with someone that this is all ok? and did you check that from twiki how to apply the weights? e.g. which one is correct: 
puweight = pileup2016histo.GetBinContent(pu_nTrueInt)
or 
puweight = pileup2016histo.GetBinContent(pu_nTrueInt-1)

please look at the PU reweight twiki and confirm this is done correctly? 


2. genparticle p4 needs to be converted into px, py, pz, E in order to make my setup work on this, 

3. kfactor.py missing in the repository 

4.  do you know GetBinContent takes only integer values, and I guess pu_nTrueInt is a float, do you know how root typecast this number automatically? 

5. To make the process faster, can you print the bin edges of each of the 2d histograms used for SF, and make python lists like
etabins=[-2.5,-2,1, -1.5, -1.4, -0.8, 0.0, 0.8, 1.4, 1.5, 2.1, 2.5] (check carefully this is just a guess)
ptbins=[]

and share them, 

6. Next useful thing would  be to read all 2D histograms used for SFs, and make them a 2d array, e.g. 

sf[0][0] = 0.9
sf[0][1] = 0.95 

where first index  [] is X axis of the plot and second index [] is Y axis of the plot, 

 I wrote the plugin to use 5 and 6 above and make this SF reading faster. 

7. compare with code pointed by Deborah, if everything is ok in our code, in case  needed here is the base code, 
https://github.com/UZHCMS from where some of the packages are taken, 

8. please check the id for ele and mu used for the vetoing leptons



## To do for Deepak: 

1. this is the input path for rootfile
/eos/cms/store/group/phys_exotica/bbMET/2016_skimmer/tDM_06052019/

2. it has sub dirs like TTWJetsToLNu_TuneCUETP8M1_13TeV-amcatnloFXFX-madspin-pythia8_0000/

3. there are many such dirs. 

4. i want to merge these rootfiles, 

5. merge 20 files in a single file, if dir has less than 20, say N then use N files., 

6. The input and output path should be configurable, with -i and -o 

7. Number of files to be hadded should be configrable with defaiult value to all. you can set a large number say 900 which is max for hadd.  

8. in the outdir provided by -o make Merged_tDM_06052019 (last string in the input path) 

9. further dir substructure should be exactly like the  Merged_tDM_06052019/Merged_TTWJetsToLNu_TuneCUETP8M1_13TeV-amcatnloFXFX-madspin-pythia8_0000.root   when all is used 

and 
name should be following when N is provided 

Merged_tDM_06052019/TTWJetsToLNu_TuneCUETP8M1_13TeV-amcatnloFXFX-madspin-pythia8_0000/Merged_SkimmedTree_*.root

